var addMask,closeContactMe,contactMe,contactMeCallback,forgotPassword,newCloseContactForm,newContactFormSubmit,newContactFormSubmitCallback,openForm,openPage,submitlostpasswordrequest,testForm,testformCallback,tryLogin;openPage=function(e,t,i,o){o?window.open("/"+companyAbbr+"/"+t+"?AccountID="+accountID,i,"width=815px,height=555px,resizable=1,scrollbars=1,"):document.location="/"+companyAbbr+"/"+t},openForm=function(e,t,i,o){o?window.open("/"+companyAbbr+"/modules/global/forms/"+t+"?AccountID="+accountID,i,"width=450px,height=600px,resizable=1,scrollbars=1,"):document.location="?"+t},testForm=function(){addMask(),$.ajax({url:"http://devweb.summitnetworks.com/"+companyAbbr+"/modules/global/forms/sellerrequest.asp?AccountID="+accountID+"&acc="+account,success:testformCallback,dataType:"html"})},testformCallback=function(e){e=e.replace(/<\/?(html|head|body)[^>]*>/g,""),e=e.substring(e.indexOf("/script>")+8).replace(/script/g,""),console.log(e),$("<div></div>").attr("id","form").css({position:"absolute",top:"10px",backgroundColor:"#fff",zIndex:1001}).append(e).appendTo($("body"))},forgotPassword=function(){addMask()},tryLogin=function(e,t,i){var o,n,s,a,l,r,c;if(r=$("input[name="+e+"]"),n=$("input[name="+i+"]"),a=$("input[name="+t+"]"),"radio"===a.attr("type")&&(a=$("#"+t+"-yes"),0===a.length))throw"'Remember Me' field not found";return c=$.trim(r.val()),s=$.trim(n.val()),l="checked"===a.attr("checked")?"on":"off",0===c.length&&(alert("Please enter your email address."),r.focus()),$("input[name=username]").val(c),$("input[name=password]").val(s),$("input[name=remember]").val(l),o=$("form[name=extranet-login]")[0],o.submit(),!1},closeContactMe=function(){$("#contactMask").remove(),$("#contactForm").remove()},addMask=function(){$('<div id="contactMask"></div>').appendTo($("body"))},contactMe=function(e){addMask(),$.ajax({url:"/"+companyAbbr+"/modules/internet/contactMeForm.aspx?webSessionID="+randomNumber+"&contentID="+companyId+"&accountid="+accountId,success:contactMeCallback})},contactMeCallback=function(e){$('<div id="contactForm" class="row"></div>').append(e).appendTo($("body")),$("#contactForm").length>0&&($("#-cf-column-form").attr("id","contactFormLeft").addClass("medium-8 columns"),$("#-cf-column-info").attr("id","contactFormRight").addClass("medium-4 columns").removeAttr("style"),$("#-cf-form-close").attr("id","formClose").addClass("right").html('<i class="fa fa-times-circle fa-lg"></i>').appendTo("#contactForm"),$("#contactFormLeft > div > form").attr("onsubmit","return newContactFormSubmit();").removeAttr("style").unwrap(),$(".-cf-clear").remove(),$(".-cf-form-required-indicator").remove(),$('label[for="-cf-form-field-from"]').append("*"),$('label[for="-cf-form-field-firstname"]').append("*"),$('label[for="-cf-form-field-lastname"]').append("*"),$("#-cf-form > div:first-child").attr("id","fromRow"),$("#-cf-form > div:nth-child(2)").attr("id","subjectRow"),$("#-cf-form > div:nth-child(3)").attr("id","textareaRow"),$("#-cf-form > div:nth-child(4)").attr("id","firstNamePhoneRow"),$("#-cf-form > div:nth-child(5)").attr("id","lastNameContactRow"),$("#-cf-form > div:nth-child(6)").attr("id","buttonRow").removeAttr("style"),$("#-cf-form").children().addClass("row").unwrap(),$("#fromRow > div:first-child").attr("class","large-12 columns"),$("#-cf-form-field-from").removeAttr("class").removeAttr("onfocus").removeAttr("onblur").removeAttr("value").attr("placeholder","Enter Your Email Address").unwrap().appendTo('label[for="-cf-form-field-from"]'),$("#subjectRow > div:first-child").attr("class","large-12 columns"),$("#-cf-form-field-subject").removeAttr("class").appendTo('label[for="-cf-form-field-subject"]'),$("#-cf-form-field-message").wrap('<div class="large-12 columns">').removeAttr("style"),$("#firstNamePhoneRow > div:first-child").attr("class","medium-6 columns"),$("#-cf-form-field-firstname").removeAttr("class").unwrap().appendTo('label[for="-cf-form-field-firstname"]'),$("#firstNamePhoneRow > div:nth-child(2)").attr("class","medium-6 columns"),$("#-cf-form-field-phone").removeAttr("class").unwrap().appendTo('label[for="-cf-form-field-phone"]'),$("#lastNameContactRow > div:first-child").attr("class","medium-6 columns"),$("#-cf-form-field-lastname").removeAttr("class").unwrap().appendTo('label[for="-cf-form-field-lastname"]'),$("#lastNameContactRow > div:nth-child(2)").attr("class","medium-6 columns"),$("#-cf-form-field-method").removeAttr("class").appendTo('label[for="-cf-form-field-method"]'),$("#buttonRow").append('<div class="large-12 columns text-center"></div>'),$("#-cf-form-button-submit").appendTo("#buttonRow div.large-12").replaceWith('<button type="submit" class="small radius success">Submit</button> '),$("button.small").after("<br>"),$("#-cf-form-button-reset").appendTo("#buttonRow div.large-12").replaceWith('<button type="reset" class="tiny radius secondary">Reset</button> '),$("#-cf-form-button-cancel").appendTo("#buttonRow div.large-12").replaceWith('<button onclick="closeContactForm()" type="button" class="tiny radius alert">Cancel</button>'),$("#contactForm form div:nth-child(7)").replaceWith('<div id="formFooter" class="row"><div class="medium-3 columns">* = Required Field</div></div>'),$("#-cf-disclaimer").attr("id","formDisclaimer").addClass("medium-9 columns").appendTo("#formFooter"),$("#formDisclaimer span").removeAttr("style"),$("#formDisclaimer span a").removeAttr("style"),$("#formFooter").children().wrapInner("<small>"),$("#-cf-info-name").wrapInner('<h5 class="text-center">'),$("#-cf-info-name h5").unwrap(),$("#-cf-info-photo").attr("class","text-center").removeAttr("id"),$("#-cf-info-photo img").removeAttr("style"),$("#-cf-info-office-heading").wrapInner("<h6>"),$("#-cf-info-numbers-heading").wrapInner("<h6>"),$("#-cf-info-website-heading").wrapInner("<h6>"),$("#-cf-info-mobile-heading").wrapInner("<h6>"),$("#-cf-info-office-heading h5").unwrap(),$("#-cf-info-numbers-heading h5").unwrap(),$("#-cf-info-website-heading h5").unwrap(),$("#-cf-info-mobile-heading h5").unwrap(),$("#-cf-info-company-name").replaceWith('<p id="officeInfo">'+$("#-cf-info-company-name").html()+"<br></p>"),$("#-cf-info-address-1").appendTo("#officeInfo").replaceWith($("#-cf-info-address-1").html()+"<br>"),$("#-cf-info-address-city").appendTo("#officeInfo").replaceWith($("#-cf-info-address-city").html()+" "),$("#-cf-info-address-state").appendTo("#officeInfo").replaceWith($("#-cf-info-address-state").html()+" "),$("#-cf-info-address-zip").appendTo("#officeInfo").replaceWith($("#-cf-info-address-zip").html()+"<br>"),$("#-cf-info-office-phone").appendTo("#officeInfo").replaceWith($("#-cf-info-office-phone").html()+"</p>"),$("#-cf-form-field-phone").removeAttr("id"),$("#-cf-info-numbers-info div:first-child").replaceWith('<p id="contactNumbers">'+$("#-cf-info-numbers-info div:first-child").html()+"<br>"),$("#-cf-info-numbers-info div:nth-child(2)").appendTo("#contactNumbers").replaceWith(""+$("#-cf-info-numbers-info div:nth-child(2)").html()+"<br>"),$("#-cf-info-numbers-info div:nth-child(3)").appendTo("#contactNumbers").replaceWith(""+$("#-cf-info-numbers-info div:nth-child(3)").html()+"<br>"),$(".-cf-info-numbers-number").appendTo("#contactNumbers").replaceWith(""+$(".-cf-info-numbers-number").html()+"</p>"),$("#-cf-info-website-info").replaceWith('<p id="websiteInfo">'+$("#-cf-info-website-info").html()+"</p>"),$("#-cf-info-mobile-info").replaceWith('<p id="mobileInfo">'+$("#-cf-info-mobile-info").html()+"</p>"))},submitlostpasswordrequest=function(){var e,t;return t=void 0,e=$.trim($("input[name=username]").val()),t=window.open("/"+companyAbbr+"/modules/internet/search/lostpassword.asp?email="+e,"lostpassword","width=313,height=245"),t.focus(),!0},newContactFormSubmit=function(){var e,t,i,o,n,s,a,l,r,c,d,f,h;return s=$("#-cf-form-field-from"),o=$("#-cf-form-field-firstname"),l=$("#-cf-form-field-lastname"),f=$("#-cf-form-field-phone"),n=$.trim(s.val().replace("Enter Your Email Address","")),h=$.trim($("#-cf-form-field-subject").val().split(" ").join("+")),i=$.trim(o.val()),a=$.trim(l.val()),d=$.trim(f.val()),c=$("#-cf-form-field-method").val(),r=$.trim($("#-cf-form-field-message").val()),t=/^[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*(\+[a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2}[a-zA-Z0-9]*$/,n.match(t)?0===i.length?(alert("Please enter your first name."),o.focus(),!1):0===a.length?(alert("Please enter your last name."),l.focus(),!1):(e="from="+n+"&subject="+h+"&first="+i+"&last="+a+"&phone="+d+"&contactby="+c+"&message="+escape(r),$.ajax("/"+companyAbbr+"/modules/global/contact.asp?accountid="+accountId+"&action=sendmail",{data:e,type:"POST",success:contactFormSubmitCallback}),newContactFormSubmitCallback(),!1):(alert("Please enter a valid email address."),s.focus(),!1)},newContactFormSubmitCallback=function(){var e;e=$("#contactFormLeft"),e.empty(),e.addClass("text-center").html('<h6>Thank you, your email has been sent.</h6><button onclick="newCloseContactForm()" type="button" class="tiny radius alert">Close</button>')},newCloseContactForm=function(){$(window).trigger("contactformclose")},$(function(){$("input[name=ext-username]").length>0&&($("input[name=ext-username]").val(""),$("input[name=ext-password]").val(""))}),$(window).bind("contactmeclick",contactMe),$(window).bind("contactformclose",closeContactMe),$(window).bind("forgotpasswordclick",submitlostpasswordrequest),$(window).bind("openpageclick",openPage),$(window).bind("openformclick",openForm),function(){var e,t,i,o,n,s,a,l,r,c,d,f,h,m,p,u,b,y,g,v,$,w,x,C,k,N,I;t=37,i=39,o=38,e=40,s=13,l=36,n=35,c=33,r=34,a=27,d=9,k=2,x=20,$=6,f=function(e,t,i,o){(!e.tagName||e.tagName&&!e.type||e.tagName&&e.type&&"text"!==e.type)&&reliance.throwError("[reliance.Exception: SuggestionField] Cannot instantiate given field."),i&&"function"!=typeof i&&reliance.throwError("[reliance.Exception: SuggestionField] Type mismatch: method must be a type of function."),2!==o.version&&reliance.xDomainHttpRequest.create("http://"+reliance.loader.proxyHost()+"/proxy/"+t,this,function(e){this.data=e},{silent:!0}),this.field=e,this.method=i,this.data=2===o.version?null:[],this.suggestionKeystrokeMinimum=o&&o.suggestionKeystrokeMinimum&&"number"==typeof o.suggestionKeystrokeMinimum?o.suggestionKeystrokeMinimum:1,this.width=o&&o.expandedWidth&&"number"==typeof o.expandedWidth?o.expandedWidth:e.offsetWidth,this.displayInfo=o&&o.displayInfo&&"boolean"==typeof o.displayInfo?o.displayInfo:!1,this.infoSize=o&&o.infoSize&&"number"==typeof o.infoSize?o.infoSize:35,this.version=o.version?o.version:1,this.dataSource=t,I.apply(this)},I=function(){var e,t;e=this.field,e.autocomplete="off",t=document.createElement("div"),t.style.cssText="float:left; position:absolute; border:#d21f26 1px solid; heigh: auto; display:none; overflow:auto; width:"+this.width-u()+"px;z-index:10000;",document.body.appendChild(t),this.list=t,reliance.event.bindDom(e,"keyup",this,function(e){return g.apply(this,["up",e])}),reliance.event.bindDom(e,"keydown",this,function(e){return g.apply(this,["down",e])}),reliance.event.addDomListener(document,"click",reliance.event.callbackArgs(this,y,0))},u=function(){var e;return e=1,2*e},g=function(f,h){var m;return h=reliance.domUtilities.fixEvent(h),h.keyCode===a||h.keyCode===d?this.list.style.display="none":("up"===f&&(h.keyCode===t||h.keyCode===i||h.keyCode===o||h.keyCode===e||h.keyCode===l||h.keyCode===n||h.keyCode===c||h.keyCode===r||(h.keyCode===s?-1!==this.highlightIndex&&this.list.childNodes[this.highlightIndex].onclick.apply():"up"===f&&w.apply(this))),void("down"===f&&(h.keyCode!==o&&h.keyCode!==e||(m=h.keyCode===o?-1:1,m+=2===this.version&&this.highlightIndex+m<this.list.childNodes.length&&("rn-search-location-title"===this.list.childNodes[this.highlightIndex+m].className||"No Suggestions"===this.list.childNodes[this.highlightIndex+m].firstChild.innerHTML)?h.keyCode===o?-1:1:0,v.apply(this,[this.highlightIndex+m])))))},w=function(){var e,t,i,o,n,s,a;if(this.getValue().length<3&&(reliance.domUtilities.clearChildNodes(this.list),this.list.style.display="none"),a=this.field.value.trim().replace(/^,\s*/g,""),a=a.replace(/\|/gi,"\\|"),a.length>=this.suggestionKeystrokeMinimum)if(t=document.createElement("div"),t.style.cssText="clear:both; overflow:hidden; height:"+("BackCompat"===document.compatMode?1:0)+"px; background-color:#ffffff",t.appendChild(document.createTextNode(".")),n=0,null!==this.data){for(reliance.domUtilities.clearChildNodes(this.list),s=new RegExp("\\b"+a+".*?\\b","gi"),o=0;o<this.data.length;)this.data[o].suggestion.match(s)&&(this.list.appendChild(m.apply(this,[this.data[o],n])),n++),o++;this.list.appendChild(t),y.apply(this,[n])}else i=this.dataSource+(-1===this.dataSource.indexOf("?")?"?":"&")+(2===this.version?"term=":"q=")+a,reliance.xDomainHttpRequest.abort(e),e=reliance.xDomainHttpRequest.create("http://"+reliance.loader.proxyHost()+"/proxy/"+i,this,function(e){var i,o;for(reliance.domUtilities.clearChildNodes(this.list),o=0,i=0;i<e.length;)2!==this.version||!e[i].type||0!==i&&e[i].type===e[i-1].type||(this.list.appendChild(p.apply(this,[e[i].type])),o++),this.list.appendChild(m.apply(this,[e[i],o])),o++,i++;this.list.appendChild(t),y.apply(this,[o])},{silent:!0})},y=function(e){var t,i,o,t,n,s,a,l,r,c;if(a=e>0?1:0,i={0:"none",1:"block"},this.list.style.display=i[a],this.highlightIndex=-1,o=e*x,e>$)for(o=$*x,c=2===this.version?0:reliance.browser.scrollbarWidthCorrection(),t=0;t<this.list.childNodes.length-1;)s=this.list.childNodes[t],r=s.childNodes[0],s.style.width=s.offsetWidth-c+"px",r.style.width=r.offsetWidth-c+"px",t++;if(2!==this.version&&(this.list.style.height=o+("BackCompat"===document.compatMode?reliance.browser.isIE()?3:1:0)+"px"),0!==a&&(l=reliance.domUtilities.getOffset(this.field),this.list.style.left=l.x+"px",this.list.style.top=l.y+this.field.offsetHeight+1+"px",2===this.version))for(n=0,t=0;t<this.list.childNodes.length;)"rn-search-location-title"!==this.list.childNodes[t].className&&t!==this.list.childNodes.length-1||(t-n-1>=10&&(this.list.childNodes[n].firstChild.style.width="auto",this.list.childNodes[n].firstChild.appendChild(document.createTextNode(" (first 10)"))),n=t),t++},N=function(){this.style.backgroundColor="#ffffff",this.childNodes[0].style.color="#000000",this.childNodes[1]&&(this.childNodes[1].style.color="#999999")},v=function(e,t){var i;e>this.list.childNodes.length-2&&(e=-1),-1>e&&(e=this.list.childNodes.length-2),-1===this.highlightIndex?this.userText=this.field.value:N.apply(this.list.childNodes[this.highlightIndex]),e>-1&&e<this.list.childNodes.length-1?(i=this.list.childNodes[e],i.style.backgroundColor="#d21f26",i.childNodes[0].style.color="#ffffff",i.childNodes[1]&&(i.childNodes[1].style.color="#edb3b6"),t||(this.field.value=b.apply(i.childNodes[0]))):this.field.value=this.userText,(e+1)*x>this.list.scrollTop+$*x?this.list.scrollTop=(e+1-$)*x:e*x<this.list.scrollTop&&(this.list.scrollTop=e*x),this.highlightIndex=e},C=function(e){var t;this.setValue(2===this.version?e.label:e.suggestion),y.apply(this,[0]),this.method&&(t=reliance.event.callbackArgs(null,this.method,e.arguments?e.arguments:e),t.apply())},m=function(e,t){var i,o,n,s,a,l,r;return n=2===this.version&&"No Suggestions"===e,o=this.width-u(),reliance.browser.isIE()?"BackCompat"===document.compatMode&&(o-=u()):reliance.browser.isFirefox()||(o-=u()),s=o-2*k,a=document.createElement("div"),a.style.cssText="position:absolute; white-space:nowrap; font-family:Arial, sans-serif; overflow:hidden; text-overflow:ellipsis; font-size:9pt; left:"+k+"px; top:2px; zIndex:1; float:left; color:#000000; width:"+s+"px",a.appendChild(document.createTextNode(2===this.version?n?e:e.label:e.suggestion)),i=document.createElement("div"),i.style.cssText="position:relative; float:left; width:"+o+"px; height:"+x+"px; background-color:#ffffff;"+(n?"":"cursor:pointer"),n||(i.onmouseover=reliance.event.callbackArgs(this,v,t,!0),i.onclick=reliance.event.callbackArgs(this,C,e)),i.appendChild(a),this.displayInfo&&e.info&&(r=s*this.infoSize/100,a.style.width=s-r+"px",l=a.cloneNode(!1),l.style.fontSize="7.5pt",l.style.left="",l.style.right=k+"px",l.style.top="3px",l.style.width=r+"px",l.style.zIndex=0,l.style.cssFloat="right",l.style.styleFloat="right",l.style.textAlign="right",l.style.color="#999999",l.appendChild(document.createTextNode(e.info)),i.appendChild(l)),i},b=function(){return this.innerText?this.innerText:this.textContent},p=function(e){var t,i,o,n;switch(n=void 0,o=void 0,e){case 1:n="Cities",o="City";break;case 2:n="Neighborhoods",o="Neighborhood";break;default:n=e,o="All"}return i=document.createElement("div"),i.className="rn-search-location-title",i.style.width=this.width-u()+"px",t=document.createElement("div"),t.appendChild(document.createTextNode(n)),i.appendChild(t),i},f.prototype.setValue=function(e){this.field.value=e},f.prototype.getValue=function(){return this.field.value},h=void 0}();